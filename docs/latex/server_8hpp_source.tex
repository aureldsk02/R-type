\doxysection{server.\+hpp}
\hypertarget{server_8hpp_source}{}\label{server_8hpp_source}\index{/home/jaggie/epitech\_projects/neo-\/r-\/type/G-\/CPP-\/500-\/COT-\/5-\/1-\/rtype-\/8/rtype\_server/include/server.hpp@{/home/jaggie/epitech\_projects/neo-\/r-\/type/G-\/CPP-\/500-\/COT-\/5-\/1-\/rtype-\/8/rtype\_server/include/server.hpp}}
\mbox{\hyperlink{server_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{**\ EPITECH\ PROJECT,\ 2025}}
\DoxyCodeLine{00003\ \textcolor{comment}{**\ G-\/CPP-\/500-\/COT-\/5-\/1-\/rtype-\/8}}
\DoxyCodeLine{00004\ \textcolor{comment}{**\ File\ description:}}
\DoxyCodeLine{00005\ \textcolor{comment}{**\ server}}
\DoxyCodeLine{00006\ \textcolor{comment}{*/}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#ifndef\ SERVER\_HPP\_}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#define\ SERVER\_HPP\_}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ <algorithm>}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}Factory.hpp"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ "{}Network.hpp"{}}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{registry_8hpp}{registry.hpp}}"{}}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ "{}logic\_functions.hpp"{}}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ "{}Types.hpp"{}}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#define\ WINDOW\_WIDTH\ 738}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#define\ WINDOW\_HEIGHT\ 432}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00038\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{server_8hpp_ae955d48f44384878e63e44527f872ebe}{player1\_entity\_id}}\ =\ -\/1;}
\DoxyCodeLine{00043\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{server_8hpp_ae70b2136c6af0a96d5e51407e69d3c8b}{player2\_entity\_id}}\ =\ -\/1;}
\DoxyCodeLine{00048\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{server_8hpp_ad309802554bb69cd11acdaa3dcb75bd8}{player3\_entity\_id}}\ =\ -\/1;}
\DoxyCodeLine{00053\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{server_8hpp_a702d8988989b5789cf12da730c637ede}{player4\_entity\_id}}\ =\ -\/1;}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00059\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}\ \mbox{\hyperlink{server_8hpp_a27f718e46e2194b1b59f97cab001aa93}{diff\_mode}}\ \{\mbox{\hyperlink{server_8hpp_a27f718e46e2194b1b59f97cab001aa93a26d394b5caf2853dbcef5884f0f068dd}{EASY}},\ \mbox{\hyperlink{server_8hpp_a27f718e46e2194b1b59f97cab001aa93a5340ec7ecef6cc3886684a3bd3450d64}{MEDIUM}},\ \mbox{\hyperlink{server_8hpp_a27f718e46e2194b1b59f97cab001aa93a712b8eb9268f114b4afc567f24bc536f}{HARD}},\ \mbox{\hyperlink{server_8hpp_a27f718e46e2194b1b59f97cab001aa93addbe5c6516ef695946446c87fd2dd69f}{PVP}},\ \mbox{\hyperlink{server_8hpp_a27f718e46e2194b1b59f97cab001aa93a945d6010d321d9fe75cbba7b6f37f3b5}{CUSTOM}}\ \}\ \mbox{\hyperlink{server_8hpp_a5a2a77296b8aa6c2e6f8903b6e9babee}{diff\_mode\_t}};}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00065\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{server_8hpp_a5a2a77296b8aa6c2e6f8903b6e9babee}{diff\_mode\_t}}\ \mbox{\hyperlink{server_8hpp_a27f718e46e2194b1b59f97cab001aa93}{diff\_mode}}\ =\ \mbox{\hyperlink{server_8hpp_a27f718e46e2194b1b59f97cab001aa93a5340ec7ecef6cc3886684a3bd3450d64}{MEDIUM}};}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00071\ \textcolor{keyword}{inline}\ std::string\ \mbox{\hyperlink{server_8hpp_a6b5d49d7ec378f8fcfaf2066b9a50434}{custom\_conf\_path}}\ =\ \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}\ \{\ \mbox{\hyperlink{server_8hpp_aa0aafed44fec19806d8f9ad834be1248a5f6aff2efe946ec43f8bad546893b0af}{LEVEL1}},\ \mbox{\hyperlink{server_8hpp_aa0aafed44fec19806d8f9ad834be1248a00955312c6043316fe7dee6c67bbdc9a}{LEVEL2}},\ \mbox{\hyperlink{server_8hpp_aa0aafed44fec19806d8f9ad834be1248a32187f6279619afdb13e71151dd5ed0b}{LEVEL3}},\ \mbox{\hyperlink{server_8hpp_aa0aafed44fec19806d8f9ad834be1248a0d375176d658570baabfeb35598c36a1}{CUSTOM\_LEVEL}}\ \}\ \mbox{\hyperlink{server_8hpp_aa0aafed44fec19806d8f9ad834be1248}{state\_t}};}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00083\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classServer}{Server}}\ \{}
\DoxyCodeLine{00084\ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{keyword}{const}\ chrono::milliseconds\ \mbox{\hyperlink{classServer_a389ae4d121cac4af7438cdaf3667d221}{tickDuration}}\ =\ std::chrono::milliseconds(50);}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00093\ \ \ \ \ sf::RenderWindow\ \mbox{\hyperlink{classServer_a7b0d7713838e463e8c2c34f98c803432}{win}};}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classServer_a9116b196578c1432fe60bcc63e982fa1}{p\_}};}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00103\ \ \ \ \ \mbox{\hyperlink{classregistry}{registry}}\ \mbox{\hyperlink{classServer_af11ba95144ad20ffec36a0b16d46d5c7}{reg}};}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00108\ \ \ \ \ Factory\ \mbox{\hyperlink{classServer_a4180da696d1023cd7892a1ef9d1b4aa0}{factory}};}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00113\ \ \ \ \ NetworkManager\ \mbox{\hyperlink{classServer_a127eb331a5e31e14e3897b9f8b58fa21}{server\_}};}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00118\ \ \ \ \ std::thread\ \mbox{\hyperlink{classServer_aac9551ed57feec8adb13207e450f919b}{networkThread}};}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00123\ \ \ \ \ std::vector<entity\_info\_t>\ \mbox{\hyperlink{classServer_ae4dff7b4e4736ca47c67d0a94899d22a}{entities}};}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00128\ \ \ \ \ std::vector<int8\_t>\ \mbox{\hyperlink{classServer_a379417d6e9d241dc4e8d5792dc927e3d}{result}};}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00133\ \ \ \ \ std::mutex\ \mbox{\hyperlink{classServer_af700fd88dd2b8c20422e440dd480db8c}{mtx}};}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00138\ \ \ \ \ std::vector<std::pair<asio::ip::udp::endpoint,\ std::vector<int8\_t>>>}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classServer_af3a69df452a40496780d77883b62052d}{messages}};}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00144\ \ \ \ \ std::map<asio::ip::udp::endpoint,\ int>\ \mbox{\hyperlink{classServer_a80329116d8742502672c70d0b4b1c9f8}{all\_clients}};}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00149\ \ \ \ \ sf::Event\ \mbox{\hyperlink{classServer_a54885a69b63baf2e3017681804d3b003}{event}};}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00154\ \ \ \ \ sf::Clock\ \mbox{\hyperlink{classServer_a109c60f995f2a12eb1a2d7bb8a566558}{frameClock}};}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classServer_afe9e4034cef5bf65a8cbff9911ee4a54}{levelTimer}}\ =\ 0.0;}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00164\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classServer_aebcb92268532727ecf0b754036f86270}{counter}};}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00169\ \ \ \ \ std::chrono::time\_point<std::chrono::steady\_clock>\ \mbox{\hyperlink{classServer_a086c6042b7e4b86bff705bef36d32baa}{gameStarted}};}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00174\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{classServer_a021ed5f7beac20b4b1f2283360d6fbea}{packageId}};}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00180\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classServer_ae05dff9b30e2b1d627e62629bbbd999a}{loadLevel}}();}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00185\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classServer_a7ecd22493005346268b3feed09218d20}{initializeGame}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00190\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classServer_aee9efcc162e25166da798b5478e62167}{logGameEntities}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00196\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classServer_af59936648c727d2b909ebed8d2a0efa9}{receivePlayerInput}}(\textcolor{keywordtype}{double}\ delta);}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00202\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classServer_af56fa596fcd58a1ea62b5a059885f467}{runLevel}}(\textcolor{keywordtype}{double}\ delta);}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classServer_aac794315f4a5a23ec5199cc0ba42ac8e}{clearGameEntities}}();}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00206\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classServer_a619edbff0be7523417ea9c5127ea3451}{initializePlayers}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00208\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classServer_ae19e437a73f2df14c0639f66ce40bfc1}{initializePlayersPVP}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00209\ }
\DoxyCodeLine{00210\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00211\ }
\DoxyCodeLine{00216\ \ \ \ \ \mbox{\hyperlink{classServer_aa37d52e1d2f14f8ca96a907d34e71b3f}{Server}}(\textcolor{keywordtype}{int}\ p);}
\DoxyCodeLine{00217\ }
\DoxyCodeLine{00221\ \ \ \ \ \mbox{\hyperlink{classServer_a4b3aa2579cb1c8cd1d069582c14d0fa6}{\string~Server}}();}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00228\ \ \ \ \ std::vector<int8\_t>\ \mbox{\hyperlink{classServer_abed355fa2d70faaf6e62d8602f368591}{encodeMessageHeader}}(\textcolor{keyword}{const}\ MessageHeader\&\ pos);}
\DoxyCodeLine{00229\ }
\DoxyCodeLine{00235\ \ \ \ \ std::vector<int8\_t>\ \mbox{\hyperlink{classServer_a0a21ae22cb0560a554fec4e186583eaa}{encodeEnemyMovedResponse}}(\textcolor{keyword}{const}\ EnemyMovedResponse\&\ pos);}
\DoxyCodeLine{00236\ }
\DoxyCodeLine{00242\ \ \ \ \ std::vector<int8\_t>\ \mbox{\hyperlink{classServer_aa860fb492b5c1dcb27efe0a0ce7e8439}{encodeGameState}}(\textcolor{keyword}{const}\ GameState\&\ pos);}
\DoxyCodeLine{00243\ }
\DoxyCodeLine{00249\ \ \ \ \ MoveResponse\ \mbox{\hyperlink{classServer_ac5a491fec7ae16a63d195b4b192f9d48}{decodeMoveResponse}}(std::vector<int8\_t>\&\ buffer);}
\DoxyCodeLine{00250\ }
\DoxyCodeLine{00256\ \ \ \ \ ActionResponse\ \mbox{\hyperlink{classServer_a268043e1a600716d031d621139d9d3a6}{decodeActionResponse}}(std::vector<int8\_t>\&\ buffer);}
\DoxyCodeLine{00257\ }
\DoxyCodeLine{00261\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classServer_abb27d30b40a94326e3fd629d3b30b7d5}{run}}();}
\DoxyCodeLine{00262\ }
\DoxyCodeLine{00263\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classServer_a091f49dee581a534a900ba710394427c}{handleWinOrLoss}}();}
\DoxyCodeLine{00264\ }
\DoxyCodeLine{00265\ \ \ \ \ \mbox{\hyperlink{server_8hpp_aa0aafed44fec19806d8f9ad834be1248}{state\_t}}\ \mbox{\hyperlink{classServer_a0597c0ae7c86932fd7a90dfea961b8a8}{state}}\ =\ \mbox{\hyperlink{server_8hpp_aa0aafed44fec19806d8f9ad834be1248a5f6aff2efe946ec43f8bad546893b0af}{LEVEL1}};}
\DoxyCodeLine{00266\ \};}
\DoxyCodeLine{00267\ }
\DoxyCodeLine{00268\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ !SERVER\_HPP\_\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
